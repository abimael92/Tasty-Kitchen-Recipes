---
import { t } from '../utils/i18n';
const { currentLocale } = Astro;
import twitterIcon from '../assets/socialmedia/twitter-icon.svg?url';
import githubIcon from '../assets/socialmedia/github-icon.svg?url';
import linkedinIcon from '../assets/socialmedia/linkedin-icon.svg?url';

const year = new Date().getFullYear();
---

<footer class='footer'>
	<div class='container'>
		<div class='footer-top'>
			<div class='footer-section'>
				<h3>{t('footer.about.title', currentLocale)}</h3>
				<p>
					{
						t('footer.about.description', currentLocale)
							.split('\n')
							.map((line, i) => (
								<>
									{line}
									<br />
								</>
							))
					}
				</p>
			</div>
			<div class='footer-section'>
				<h3>{t('footer.links.title', currentLocale)}</h3>
				<ul>
					<li><a href='/'>{t('footer.links.home', currentLocale)}</a></li>
					<li><a href='/about'>{t('footer.links.about', currentLocale)}</a></li>
				</ul>
			</div>
			<div class='footer-section'>
				<h3>{t('footer.follow.title', currentLocale)}</h3>
				<ul class='social-links'>
					<li>
						<a href='#' aria-label='Twitter'>
							<img src={twitterIcon} alt='Twitter' width='24' height='24' />
						</a>
					</li>
					<li>
						<a href='#' aria-label='GitHub'>
							<img src={githubIcon} alt='GitHub' width='24' height='24' />
						</a>
					</li>
					<li>
						<a href='#' aria-label='LinkedIn'>
							<img src={linkedinIcon} alt='LinkedIn' width='24' height='24' />
						</a>
					</li>
				</ul>
			</div>
		</div>
		<div class='footer-bottom'>
			<p>
				&copy; {year} Tasty Kitchen Recipes. {t('footer.rights', currentLocale)}
			</p>
		</div>
	</div>
</footer>

<style>
	.footer {
		background: #222;
		color: #fff;
		padding: 0.5rem;
	}
	.container {
		max-width: 1200px;
		margin: 0 auto;
	}
	.footer-top {
		display: flex;
		justify-content: space-between;
		flex-wrap: wrap;
		gap: 2rem;
	}

	.footer-section {
		display: flex;
		margin: 0;
		padding: 0;
		flex-direction: column; /* Aligns content vertically */
		align-items: center; /* Centers the content horizontally */
		gap: 2px; /* Adds space between the title and icons */

		flex: 1 1 200px; /* allows wrapping and consistent width */
		max-width: 250px; /* limit how wide each section can grow */
	}

	.footer-section h3 {
		/* margin-bottom: 1rem; */
		font-size: 1.2rem;
	}
	.footer-section ul {
		list-style: none;
		padding: 0;
	}
	.footer-section ul li {
		margin: 0.5rem 0;
	}
	.footer-section a {
		color: #bbb;
		text-decoration: none;
	}
	.footer-section a:hover {
		color: #fff;
	}

	.footer-bottom {
		margin-top: 2rem;
		text-align: center;
		font-size: 0.9rem;
		border-top: 1px solid #444;
		padding-top: 1rem;
	}
	.social-links {
		display: flex;
		justify-content: center;
		gap: 1rem;
	}

	.social-links li {
		list-style: none;
	}

	.social-links a {
		display: block;
		text-align: center;
	}

	.social-links img {
		margin-bottom: 8px; /* Adjust the spacing between the icon and the text */
	}

	@media (max-width: 768px) {
		.footer {
			padding: 1rem 0.5rem;
		}
		.container {
			max-width: 600px;
			margin: 0;
		}
		.footer-top {
			gap: 0;
		}
		.footer-section {
			gap: 0.5px; /* Adds space between the title and icons */
		}
		.footer-top {
			flex-direction: column;
			align-items: center;
			text-align: center;
		}

		.footer-section {
			width: 100%;
			align-items: center;
			margin: 0;
			padding: 0;
		}

		.footer-section h3 {
			font-size: 1.1rem;
			margin: 0;
		}

		.social-links {
			justify-content: center;
			gap: 1.5rem;
		}

		.footer-bottom {
			font-size: 0.85rem;
			padding-top: 1rem;
		}
	}
</style>
