---
import Navbar from './Navbar.astro';
import Logo from './Logo.astro';
import LanguageSelector from './LanguageSelector.astro';
import { t } from '../utils/i18n'; // Use the translation function instead of direct imports

const { currentLocale } = Astro;
---

<header class='header'>
	<div class='container'>
		<div class='header-top'>
			<Logo />
			<h1 class='blog-title'>{t('title', currentLocale)}</h1>
		</div>
		<LanguageSelector />
		<Navbar />
	</div>
</header>

<style>
	.header {
		background-color: var(--color-header);
		color: var(--color-light);
		padding: var(--spacing-medium) 0;
	}

	.container {
		width: 90%;
		margin: 0 auto;
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	.header-top {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: var(--spacing-small);
	}

	.blog-title {
		font-size: 1.8rem;
		font-weight: bold;
		font-family: 'Lora', serif;
		color: #fff;
		text-transform: uppercase;
		text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
		margin: 0;
		padding: 0 30px;
		text-align: center;
	}

	/* Navbar overrides for spacing */
	nav.navbar {
		margin-top: var(--spacing-small);
		width: 100%;
		display: flex;
		justify-content: center;
	}

	/* Desktop layout */
	@media (min-width: 768px) {
		.container {
			flex-direction: row;
			justify-content: space-between;
			align-items: center;
		}

		.blog-title {
			font-size: 1.8rem;
			padding: 0;
		}

		.header-top {
			flex-direction: row;
			align-items: center;
			gap: var(--spacing-medium);
		}

		nav.navbar {
			margin-top: 0;
			justify-content: flex-end;
			width: auto;
		}
	}
</style>
