---
import AICookingTips from './AICookingTips.astro';

interface Props {
	title: string;
	message: string;
	currentLocale?: string;
}

const { title, message, currentLocale = 'es' } = Astro.props;
---

<div class='error-page'>
	<!-- Decorative elements -->
	<div class='error-decoration error-decoration-top'></div>
	<div class='error-decoration error-decoration-bottom'></div>

	<div class='error-content'>
		<!-- Animated 404 -->
		<div class='kitchen-404'>
			<div class='error-number'>
				<span class='error-digit'>4</span>
				<div class='kitchen-icon'>
					<div class='pan'>
						<div class='pan-handle'></div>
						<div class='pan-body'>
							<div class='sizzle'></div>
							<div class='sizzle'></div>
							<div class='sizzle'></div>
						</div>
					</div>
				</div>
				<span class='error-digit'>4</span>
			</div>
		</div>

		<h1 class='error-title'>{title}</h1>
		<p class='error-description'>{message}</p>

		<!-- Action buttons -->
		<div class='error-actions'>
			<a href='/' class='action-button primary-action'>
				<svg width='20' height='20' viewBox='0 0 24 24' fill='none'>
					<path
						d='M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z'
						stroke='currentColor'
						stroke-width='2'></path>
					<path d='M9 22V12H15V22' stroke='currentColor' stroke-width='2'
					></path>
				</svg>
				Home Kitchen
			</a>

			<a href='/recipes' class='action-button secondary-action'>
				<svg width='20' height='20' viewBox='0 0 24 24' fill='none'>
					<path
						d='M12 6.25278V19.2528M12 6.25278C10.8321 5.47686 9.24649 5 7.5 5C5.75351 5 4.16789 5.47686 3 6.25278V19.2528C4.16789 18.4769 5.75351 18 7.5 18C9.24649 18 10.8321 18.4769 12 19.2528'
						stroke='currentColor'
						stroke-width='2'></path>
				</svg>
				All Recipes
			</a>
		</div>

		<!-- AI Cooking Tips -->
		<div class='ai-tips-wrapper'>
			<AICookingTips />
		</div>
	</div>
</div>

<style>
	/* Error page container */
	.error-page {
		min-height: 100vh;
		display: flex;
		justify-content: center;
		/* background: var(--color-background); */
		position: relative;
		overflow: hidden;
	}

	/* Decorative elements using your gradient colors */
	.error-decoration {
		position: absolute;
		width: 400px;
		height: 400px;
		border-radius: 50%;
		opacity: 0.1;
		z-index: 0;
	}

	.error-decoration-top {
		top: -200px;
		right: -200px;
	}

	.error-decoration-bottom {
		bottom: -200px;
		left: -200px;
		background: radial-gradient(
			circle,
			var(--color-accent) 0%,
			transparent 70%
		);
	}

	/* Main content */
	.error-content {
		position: relative;
		z-index: 1;
		/* background: rgba(248, 249, 250, 0.95); */
		backdrop-filter: blur(10px);
		border-radius: var(--border-radius);
		padding: var(--spacing-large);
		width: 100%;

		animation: recipeAppear 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
	}

	@keyframes recipeAppear {
		from {
			opacity: 0;
			transform: translateY(20px) scale(0.95);
		}
		to {
			opacity: 1;
			transform: translateY(0) scale(1);
		}
	}

	/* Kitchen 404 Animation */
	.kitchen-404 {
		display: flex;
		justify-content: center;
		align-items: center;
		min-height: 200px;
		margin-bottom: var(--spacing-large);
	}

	.error-number {
		display: flex;
		align-items: center;
		gap: 2rem;
		position: relative;
	}

	.error-digit {
		font-family: var(--font-heading);
		font-size: 8rem;
		font-weight: 900;
		color: #c14e39; /* Tomato red */
		opacity: 0;
		transform: translateY(-30px);
		animation: digitDrop 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
	}

	.error-digit:nth-child(1) {
		animation-delay: 0.1s;
	}

	.error-digit:nth-child(3) {
		animation-delay: 0.5s;
	}

	@keyframes digitDrop {
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.kitchen-icon {
		width: 120px;
		height: 120px;
		position: relative;
		animation: panFloat 3s infinite ease-in-out;
	}

	@keyframes panFloat {
		0%,
		100% {
			transform: translateY(0) rotate(0deg);
		}
		33% {
			transform: translateY(-10px) rotate(5deg);
		}
		66% {
			transform: translateY(5px) rotate(-3deg);
		}
	}

	.pan {
		position: relative;
		width: 100px;
		height: 100px;
	}

	.pan-handle {
		position: absolute;
		right: -25px;
		top: 50%;
		transform: translateY(-50%);
		width: 40px;
		height: 15px;
		background: #8b4513; /* Wood brown */
		border-radius: 5px;
	}

	.pan-body {
		position: absolute;
		width: 100px;
		height: 50px;
		background: #2f4f4f; /* Dark steel */
		border-radius: 50% 50% 5% 5%;
		box-shadow:
			inset 0 10px 20px rgba(0, 0, 0, 0.3),
			0 5px 15px rgba(0, 0, 0, 0.2);
		overflow: hidden;
	}

	.sizzle {
		position: absolute;
		background: #ffd700; /* Golden sizzle */
		border-radius: 50%;
		animation: sizzlePop 1.5s infinite;
	}

	.sizzle:nth-child(1) {
		width: 12px;
		height: 12px;
		top: 15px;
		left: 20px;
		animation-delay: 0s;
	}

	.sizzle:nth-child(2) {
		width: 8px;
		height: 8px;
		top: 25px;
		left: 50px;
		animation-delay: 0.5s;
	}

	.sizzle:nth-child(3) {
		width: 10px;
		height: 10px;
		top: 10px;
		left: 70px;
		animation-delay: 1s;
	}

	@keyframes sizzlePop {
		0%,
		100% {
			transform: scale(0.3);
			opacity: 0.3;
		}
		50% {
			transform: scale(1.2);
			opacity: 0.8;
			box-shadow: 0 0 10px #ff4500;
		}
	}

	/* Typography */
	.error-title {
		font-family: var(--font-heading);
		color: var(--color-primary);
		font-size: 2.5rem;
		text-align: center;
		margin-bottom: var(--spacing-medium);
	}

	.error-description {
		font-family: var(--font-body);
		color: var(--color-dark);
		text-align: center;
		font-size: 1.2rem;
		line-height: 1.6;
		margin-bottom: var(--spacing-large);
		max-width: 600px;
		margin-left: auto;
		margin-right: auto;
	}

	/* Search section */
	.error-search {
		margin-bottom: var(--spacing-large);
	}

	.search-label {
		font-family: var(--font-heading);
		color: var(--color-secondary);
		text-align: center;
		margin-bottom: var(--spacing-medium);
		font-size: 1.1rem;
	}

	.search-container {
		font-family: Arial, sans-serif;
		padding: 20px;
		text-align: center;
		border-radius: 12px;
		max-width: 500px;
		margin: 40px auto;
	}

	.search-prompt {
		color: #333;
		margin-bottom: 16px;
		font-size: 18px;
		font-weight: 500;
	}

	.search-box {
		display: flex;
		box-shadow: 0 4px 15px rgba(193, 78, 57, 0.2);
		border: 2px solid var(--color-secondary);
		border-radius: 8px;
		overflow: hidden;
		background: var(--color-light);
	}

	.search-box input {
		flex: 1;
		border: none;
		padding: 12px 16px;
		font-size: 16px;
		outline: none;
	}

	.search-box button {
		background: var(--color-secondary);
		color: white;
		border: none;
		padding: 0 20px;
		cursor: pointer;
		font-size: 18px;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.search-box button:hover {
		background: #0056b3;
	}

	.search-form {
		display: flex;
		max-width: 500px;
		margin: 0 auto;
		border-radius: 50px;
		overflow: hidden; /* ← This is crucial */
		box-shadow: 0 4px 15px rgba(193, 78, 57, 0.2);
		border: 2px solid var(--color-secondary);
	}
	.search-input {
		flex: 1;
		padding: 15px 20px;
		border: none;
		font-family: var(--font-body);
		font-size: 1rem;
		background: var(--color-light);
		color: var(--color-dark);
		padding-left: 20px;
		border-radius: 50px 0 0 50px; /* ← Left side rounded */
	}

	.search-button {
		display: flex;
		align-items: center;
		gap: 8px;
		padding: 15px 25px;
		background: var(--color-secondary);
		border: none;
		color: var(--color-light);
		font-family: var(--font-body);
		font-weight: 600;
		cursor: pointer;
		transition: all 0.3s ease;
		border-radius: 0 50px 50px 0; /* ← Right side rounded */
	}

	.search-input:focus {
		outline: none;
		box-shadow: inset 0 0 0 2px var(--color-accent);
	}

	.search-button:hover {
		background: var(--color-primary);
		transform: scale(1.05);
	}

	/* Action buttons */
	.error-actions {
		display: flex;
		gap: var(--spacing-medium);
		justify-content: center;
		margin-bottom: var(--spacing-large);
		flex-wrap: wrap;
	}

	.action-button {
		display: inline-flex;
		align-items: center;
		gap: 10px;
		padding: var(--spacing-medium) var(--spacing-large);
		border-radius: var(--border-radius);
		font-family: var(--font-body);
		font-weight: 600;
		text-decoration: none;
		transition: all 0.3s ease;
		border: 2px solid transparent;
		font-size: 1rem;
	}

	.primary-action {
		background: var(--color-primary);
		color: var(--color-light);
	}

	.secondary-action {
		background: var(--color-light);
		color: var(--color-secondary);
		border-color: var(--color-secondary);
	}

	.accent-action {
		background: var(--color-accent);
		color: var(--color-dark);
	}

	.action-button:hover {
		transform: translateY(-3px);
		box-shadow: 0 8px 25px rgba(255, 99, 71, 0.3);
	}

	/* Categories */
	.error-categories {
		margin-bottom: var(--spacing-large);
	}

	.categories-title {
		font-family: var(--font-heading);
		color: var(--color-secondary);
		text-align: center;
		margin-bottom: var(--spacing-medium);
		font-size: 1.5rem;
	}

	.categories-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
		gap: var(--spacing-medium);
		max-width: 500px;
		margin: 0 auto;
	}

	.category-card {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 8px;
		padding: var(--spacing-medium);
		background: var(--color-light);
		border-radius: var(--border-radius);
		text-decoration: none;
		color: var(--color-dark);
		border: 2px solid rgba(255, 99, 71, 0.2);
		transition: all 0.3s ease;
	}

	.category-card:hover {
		border-color: var(--color-primary);
		transform: translateY(-5px);
		box-shadow: 0 5px 20px rgba(255, 99, 71, 0.2);
	}

	.category-emoji {
		font-size: 2rem;
	}

	.category-name {
		font-family: var(--font-body);
		font-weight: 600;
		color: var(--color-secondary);
	}

	/* Cooking tip */
	.cooking-tip {
		display: flex;
		align-items: center;
		gap: var(--spacing-medium);
		padding: var(--spacing-medium);
		background: linear-gradient(
			135deg,
			rgba(255, 215, 0, 0.1),
			rgba(255, 99, 71, 0.1)
		);
		background: rgba(248, 249, 250, 0.95);
		border-radius: var(--border-radius);
		border-left: 4px solid var(--color-accent);
	}

	.tip-icon {
		font-size: 5rem;
		flex-shrink: 0;
		display: flex;
		align-items: center;
		justify-content: center;
		width: 80px;
		height: 80px;
	}

	.tip-content {
		flex: 1;
	}

	.tip-title {
		font-family: var(--font-heading);
		color: var(--color-primary);
		margin-bottom: 4px;
		font-size: 1.1rem;
	}

	.tip-text {
		font-family: var(--font-body);
		color: var(--color-dark);
		margin: 0;
		font-size: 0.95rem;
		line-height: 1.5;
	}

	.category-icon {
		width: 32px;
		height: 32px;
		color: var(--color-primary);
		margin-bottom: 8px;
	}

	.tip-icon svg {
		width: auto;
		height: 68px;
		color: var(--color-accent);
	}

	/* Responsive Design */
	@media (max-width: 768px) {
		.error-page {
			padding: var(--spacing-medium);
			margin: 2px;
		}

		.error-content {
			padding: var(--spacing-medium);
		}

		.error-digit {
			font-size: 5rem;
		}

		.kitchen-icon {
			width: 80px;
			height: 80px;
		}

		.pan {
			width: 70px;
			height: 70px;
		}

		.pan-handle {
			width: 30px;
			right: -20px;
		}

		.error-title {
			font-size: 2rem;
		}

		.error-description {
			font-size: 1rem;
		}

		.error-actions {
			flex-direction: column;
			align-items: center;
		}

		.action-button {
			width: 100%;
			max-width: 300px;
			justify-content: center;
		}

		.search-form {
			flex-direction: column;
			border-radius: var(--border-radius);
		}

		.search-input {
			flex: 1;
			padding: 15px 20px;
			border: none;
			font-family: var(--font-body);
			font-size: 1rem;
			background: var(--color-light);
			color: var(--color-dark);
			padding-left: 20px;
			border-radius: 50px 0 0 50px; /* ← Add this */
		}

		.search-button {
			justify-content: center;
		}

		.categories-grid {
			grid-template-columns: repeat(2, 1fr);
		}

		.cooking-tip {
			flex-direction: column;
			text-align: center;
		}
	}

	@media (max-width: 480px) {
		.error-digit {
			font-size: 4rem;
		}

		.kitchen-icon {
			width: 60px;
			height: 60px;
		}

		.pan {
			width: 50px;
			height: 50px;
		}

		.pan-handle {
			width: 20px;
			right: -15px;
		}

		.error-title {
			font-size: 1.75rem;
		}

		.categories-grid {
			grid-template-columns: 1fr;
		}

		.error-decoration {
			width: 200px;
			height: 200px;
		}
	}
</style>
