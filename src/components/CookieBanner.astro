---
let showBanner = true;

if (typeof window !== 'undefined') {
	showBanner = !localStorage.getItem('cookiesAccepted');
}

function acceptCookies() {
	localStorage.setItem('cookiesAccepted', 'true');
	showBanner = false;
}
---

{
	showBanner && (
		<div id='cookie-banner' class='cookie-banner'>
			<div class='cookie-content'>
				<h3 class='cookie-title'>
					<img src='/cookie.svg' alt='Cookie Icon' class='cookie-icon' />
					We use cookies
				</h3>
				<div class='cookie-text'>
					<p>
						We use cookies to improve your experience.
						<br />
						By using our site, you agree to our
						<a href='/privacy-policy'>privacy policy</a>.
						<br />
						<button onClick={acceptCookies}>Got it!</button>
					</p>
				</div>
			</div>
		</div>
	)
}

<script is:inline>
	if (typeof window !== 'undefined') {
		document.querySelector('button').onclick = () => {
			localStorage.setItem('cookiesAccepted', 'true');
			document.getElementById('cookie-banner').style.display = 'none';
		};
	}
</script>

<style>
	.cookie-banner {
		position: fixed;
		bottom: 0;
		width: 100%;
		background-color: #333;
		color: white;
		padding: 1rem;
		text-align: center;
		z-index: 1000;
	}

	.cookie-content {
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		text-align: center;
		gap: 0.2rem;
		max-width: 90%; /* Adjusted width for better fit */
		margin: -10px auto;
	}

	.cookie-title {
		display: flex;
		align-items: center;
		gap: 0.5rem;
		margin-bottom: 0.1rem;
	}

	.cookie-text {
		text-align: center;
		flex-grow: 1;
		max-width: 60%;
	}

	.cookie-icon {
		width: auto;
		height: 35px;
	}

	.cookie-content button {
		background-color: #d2691e;
		border: none;
		padding: 0.5rem 1.5rem;
		color: white;
		cursor: pointer;
		margin-top: 1rem;
		border-radius: 25px;
	}

	.cookie-content button:hover {
		background-color: #ff7f50;
		/* margin-left: 1rem; */
	}
</style>
